module.exports = {
    initial: 'connect_to_attestor',
    states: {
      connect_to_attestor: {
        entry: ['p2plex_to_attestor'],
        on: {
          RESOLVE: 'get_proof',
          REJECT: 'fail_connect_to_attestor' // retry
        },
      },
      fail_connect_to_attestor: {
        on: {
          RETRY: 'connect_to_attestor'
        }
      },
      get_proof: {
        entry: ['get_proof_from_storage'],
        on: {
          _RESOLVE: 'send_proof',
          _REJECT: 'fail_get_proof'
        }
      },
      fail_get_proof: {
        on: {
          RETRY: 'get_proof'
        }
      },
      send_proof: {
        entry: ['proof_of_storage_response'],
        exit: ['disconnect'],
        on: {
          RESOLVE: '#hostingState',
          REJECT: 'fail_send_proof'
        }
      },
      fail_send_proof: {
        on: {
          RETRY: 'send_proof'
        }
      }
    }
}
