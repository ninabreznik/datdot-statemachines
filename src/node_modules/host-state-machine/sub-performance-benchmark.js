module.exports = {
    initial: 'connect_to_attestors',
    states: {
      connect_to_attestors: {
        entry: ['p2plex_connect_to_attestors_observers'],
        on: {
          RESOLVE: 'send_reports',
          REJECT: 'fail_connect_to_attestors' // retry
        },
      },
      fail_connect_to_attestors: {
        on: {
          RETRY: 'connect_to_attestors'
        }
      },
      send_reports: {
        entry: ['send_regular_reports'],
        on: {
          RESOLVE: '#hostingState',
          REJECT: 'fail_send_reports'
        }
      },
      fail_send_reports: {
        on: {
          RETRY: 'send_reports'
        }
      }
    }
}
